<!doctype html>
<html lang="ja">
<head>
  <!-- OGP AUTO-GENERATED START (do not edit by hand) -->
  <meta property="og:title" content="æ¾æ‘ã£ã¡ - é€²åŒ–ã®æ—¥ãƒãƒ¼ã‚¸ãƒ§ãƒ³">
  <meta name="twitter:title" content="æ¾æ‘ã£ã¡ - é€²åŒ–ã®æ—¥ãƒãƒ¼ã‚¸ãƒ§ãƒ³">
  <meta property="og:description" content="11/24 é€²åŒ–ã®æ—¥ æ¾æ‘ã£ã¡ v1.0 æ¾æ‘ã£ã¡ ãŠä¸–è©±ã—ã¦é€²åŒ–ã•ã›ã‚ˆã†ï¼ˆæ”¾ç½®ã™ã‚‹ã¨é€€åŒ–ã—ã¾ã™ï¼‰ ã‚¹ãƒ†ãƒ¼ã‚¸ï¼š ã‚¿ãƒã‚´æ¾æ‘ é€²åŒ–ãƒã‚¤ãƒ³ãƒˆ 0 (`ãƒ»Ï‰ãƒ»Â´) ãŠãªã‹ 80 ãã’ã‚“ 80 å…ƒæ°— 80 ğŸ™ ã”ã¯ã‚“ ğŸ’¬ ã¯ãªã™ ğŸ’¤ ã­ã‚‹ ğŸ”„ ã‚‚ã†ä¸€åº¦è‚²ã¦ã‚‹ ãŠä¸–è©±ã™ã‚‹ã¨ é€²åŒ–ãƒ">
  <meta name="twitter:description" content="11/24 é€²åŒ–ã®æ—¥ æ¾æ‘ã£ã¡ v1.0 æ¾æ‘ã£ã¡ ãŠä¸–è©±ã—ã¦é€²åŒ–ã•ã›ã‚ˆã†ï¼ˆæ”¾ç½®ã™ã‚‹ã¨é€€åŒ–ã—ã¾ã™ï¼‰ ã‚¹ãƒ†ãƒ¼ã‚¸ï¼š ã‚¿ãƒã‚´æ¾æ‘ é€²åŒ–ãƒã‚¤ãƒ³ãƒˆ 0 (`ãƒ»Ï‰ãƒ»Â´) ãŠãªã‹ 80 ãã’ã‚“ 80 å…ƒæ°— 80 ğŸ™ ã”ã¯ã‚“ ğŸ’¬ ã¯ãªã™ ğŸ’¤ ã­ã‚‹ ğŸ”„ ã‚‚ã†ä¸€åº¦è‚²ã¦ã‚‹ ãŠä¸–è©±ã™ã‚‹ã¨ é€²åŒ–ãƒ">
  <meta property="og:image" content="/2025-11-24/assets/matsu_dead.png">
  <meta name="twitter:image" content="/2025-11-24/assets/matsu_dead.png">
  <meta property="og:url" content="/2025-11-24/">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <!-- OGP AUTO-GENERATED END -->

<meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover,user-scalable=no" />
  <title>æ¾æ‘ã£ã¡ - é€²åŒ–ã®æ—¥ãƒãƒ¼ã‚¸ãƒ§ãƒ³</title>
  <style>
  :root{
  --ink:#111827;
  --bg:#e7e7e7;           /* ç”»é¢å…¨ä½“ã®ã‚°ãƒ¬ãƒ¼ */
  --panel:#e5e7eb;
  --accent:#f97316;
  --good:#22c55e;
  --bad:#ef4444;
  --shadow:0 14px 40px rgba(15,23,42,.35);
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

*{
  box-sizing:border-box;
  -webkit-tap-highlight-color:transparent;
}

html,body{
  margin:0;
  padding:0;
  height:100%;
  font-family: system-ui,-apple-system,"Segoe UI","Hiragino Kaku Gothic ProN","Yu Gothic",sans-serif;
  background:var(--bg);
  color:var(--ink);
}

body{
  display:flex;
  align-items:center;
  justify-content:center;
}

/* ç«¯æœ«ãƒ•ãƒ¬ãƒ¼ãƒ  */
#wrap{
  position:relative;
  width:100%;
  max-width:480px;
  aspect-ratio:9/16;
  background:radial-gradient(circle at 15% 0%,#0f172a 0,#020617 45%,#000 100%);
  border-radius:24px;
  overflow:hidden;
  box-shadow:var(--shadow);
}

.frame{
  position:absolute;
  inset:0;
  padding:calc(10px + var(--safe-top)) 14px calc(12px + var(--safe-bottom));
  display:flex;
  flex-direction:column;
  gap:8px;
}

/* ãƒ˜ãƒƒãƒ€ãƒ¼ */

header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-size:12px;
  color:#e5e7eb;
}

header .badge{
  padding:2px 8px;
  border-radius:999px;
  background:rgba(15,23,42,.85);
  color:#f9fafb;
  font-size:11px;
}

/* ã‚¿ã‚¤ãƒˆãƒ« */

.title-area{
  text-align:center;
  margin-top:2px;
  color:#f9fafb;
}

.title-area h1{
  font-size:18px;
  margin:0;
  letter-spacing:.08em;
}

.title-area small{
  font-size:11px;
  opacity:.75;
}

.screen{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:8px;
}

/* ãƒšãƒƒãƒˆç”»é¢ */

.pet-area{
  flex:1;
  background:rgba(15,23,42,.96);
  border-radius:18px;
  padding:4px 6px !important;
  gap:4px !important;
  display:flex;
  flex-direction:column;
  align-items:stretch;
  justify-content:space-between;
  border:1px solid rgba(15,23,42,.9);
  position:relative;
  overflow:hidden;
}

.pet-stage-label{
  font-size:11px;
  color:#e5e7eb;
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:2px !important;
}

.pet-stage-label span strong{
  font-weight:700;
}

.evo-badge{
  padding:1px 6px;
  border-radius:999px;
  background:#fee2e2;
  font-size:10px;
  color:#b91c1c;
}

/* æ¾æ‘è¡¨ç¤ºéƒ¨åˆ†ï¼ˆæ¶²æ™¶ï¼‰ */

.pet-visual-wrap{
  display:flex;
  align-items:center;
  justify-content:center;
  padding:0 !important;
  margin:0 !important;
  flex:0 0 auto !important; 
}

.pet-visual-inner{
  width:70%;
  max-width:240px;
  aspect-ratio:1/1;
  border-radius:10px;
  background:#e7e7e7;                /* ç”»åƒã¨åŒã˜ã‚°ãƒ¬ãƒ¼ */
  position:relative;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 0 0 3px rgba(15,23,42,.9); /* æ¶²æ™¶ã®ãƒ•ãƒ */
}

/* ãƒã‚¤ãƒ©ã‚¤ãƒˆã¯æ¶ˆã™ï¼ˆãƒ•ãƒ©ãƒƒãƒˆã«ï¼‰ */
.pet-visual-inner::before{
  content:none;
}

#pet-img{
  max-width:80%;
  max-height:80%;
  image-rendering:pixelated;
  animation:float 2.2s ease-in-out infinite;
}

.pet-dead #pet-img{
  animation:none;
  filter:grayscale(1);
  opacity:.85;
}

/* è¡¨æƒ…ãƒãƒƒã‚¸ã¯éè¡¨ç¤ºã«ã™ã‚‹ */
.pet-face-overlay{
  display:none !important;
}

/* ã‚‚ã—å¾Œã§ä½¿ã†ã‹ã‚‚ãªã®ã§å®šç¾©ã ã‘æ®‹ã™ */
.pet-face{
  padding:2px 8px;
  border-radius:999px;
  background:rgba(0,0,0,0.18);
  color:#111827;
  font-size:11px;
  min-width:80px;
  text-align:center;
  box-shadow:0 3px 6px rgba(0,0,0,.25);
}

.pet-dead .pet-face{
  background:rgba(0,0,0,0.12);
}

/* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ */

.status-area{
  display:flex;
  flex-direction:column;
  gap:2px;
  margin-top:2px;
}

.status-row{
  display:flex;
  align-items:center;
  gap:4px;
  font-size:11px;
  color:#e5e7eb;
}

.status-label{
  width:3em;
}

.status-bar-wrap{
  flex:1;
  height:8px;
  border-radius:999px;
  background:rgba(15,23,42,.7);
  overflow:hidden;
  position:relative;
}

.status-bar{
  position:absolute;
  inset:0;
  width:50%;
  background:linear-gradient(90deg,#22c55e,#facc15,#f97316,#ef4444);
  transform-origin:left center;
  transform:scaleX(.5);
  transition:transform .25s ease-out;
}

.status-value{
  width:32px;
  text-align:right;
  color:#e5e7eb;
}

/* ãƒœã‚¿ãƒ³ */

.controls{
  margin-top:4px;
  display:flex;
  gap:4px;
}

.btn{
  flex:1;
  border:none;
  border-radius:999px;
  padding:6px 4px;
  font-size:11px;
  font-weight:600;
  background:rgba(248,250,252,.96);
  color:#020617;
  box-shadow:0 4px 12px rgba(15,23,42,.45);
  display:flex;
  align-items:center;
  justify-content:center;
  gap:4px;
}

.btn:active{
  transform:translateY(1px) scale(.99);
  box-shadow:0 2px 6px rgba(15,23,42,.4);
}

.btn span.emoji{
  font-size:14px;
}

.btn.disabled{
  opacity:.35;
  pointer-events:none;
  box-shadow:none;
}

/* ãƒªã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ï¼ˆå°ã•ã‚ã‚»ãƒ³ã‚¿ãƒ¼ï¼‰ */
#btn-restart{
  display:none;
  margin-top:4px;
  align-self:center;
  flex:0 0 auto;
  padding:6px 12px;
  font-size:11px;
  max-width:260px;
}

/* ãƒ­ã‚° */

.log-area{
  margin-top:4px;
  padding:4px 6px;
  border-radius:12px;
  background:rgba(15,23,42,.9);
  color:#e5e7eb;
  font-size:10px;
  min-height:28px;
  max-height:45px;
  display:flex;
  flex-direction:column;
  gap:2px;
  overflow:hidden;
}

.log-line{
  opacity:.9;
  white-space:nowrap;
  text-overflow:ellipsis;
  overflow:hidden;
}

.log-line:first-child{
  opacity:1;
}

/* ãƒ•ãƒƒã‚¿ãƒ¼ */

footer{
  margin-top:4px;
  font-size:9px;
  color:#cbd5f5;
  text-align:center;
}

footer strong{
  color:#f97316;
}

/* ãµã‚ã£ã¨æµ®ãã‚¢ãƒ‹ãƒ¡ */

@keyframes float {
  0%{ transform:translateY(2px); }
  50%{ transform:translateY(-4px); }
  100%{ transform:translateY(2px); }
}

/* å°ã•ã„ç«¯æœ«ç”¨ */

@media (max-width:360px){
  .title-area h1{ font-size:16px; }
  .pet-visual-inner{ width:76%; }
}

  </style>
</head>
<body>
  <div id="wrap">
    <div class="frame">
      <header>
        <div>11/24<span style="margin-left:4px;">é€²åŒ–ã®æ—¥</span></div>
        <div class="badge">æ¾æ‘ã£ã¡ v1.0</div>
      </header>

      <div class="title-area">
        <h1>æ¾æ‘ã£ã¡</h1>
        <small>ãŠä¸–è©±ã—ã¦é€²åŒ–ã•ã›ã‚ˆã†ï¼ˆæ”¾ç½®ã™ã‚‹ã¨é€€åŒ–ã—ã¾ã™ï¼‰</small>
      </div>

      <main class="screen">
        <section class="pet-area" id="pet-area">
          <div class="pet-stage-label">
            <span>ã‚¹ãƒ†ãƒ¼ã‚¸ï¼š<strong id="stage-label">ã‚¿ãƒã‚´æ¾æ‘</strong></span>
            <span class="evo-badge" id="evo-badge">é€²åŒ–ãƒã‚¤ãƒ³ãƒˆ 0</span>
          </div>

          <div class="pet-visual-wrap">
            <div class="pet-visual-inner" id="pet-visual">
              <img id="pet-img" src="" alt="æ¾æ‘ã£ã¡" />
              <div class="pet-face-overlay">
                <div class="pet-face" id="pet-face">(`ãƒ»Ï‰ãƒ»Â´)</div>
              </div>
            </div>
          </div>

          <div class="status-area">
            <div class="status-row">
              <div class="status-label">ãŠãªã‹</div>
              <div class="status-bar-wrap">
                <div class="status-bar" id="bar-hunger"></div>
              </div>
              <div class="status-value" id="val-hunger">80</div>
            </div>
            <div class="status-row">
              <div class="status-label">ãã’ã‚“</div>
              <div class="status-bar-wrap">
                <div class="status-bar" id="bar-happy"></div>
              </div>
              <div class="status-value" id="val-happy">80</div>
            </div>
            <div class="status-row">
              <div class="status-label">å…ƒæ°—</div>
              <div class="status-bar-wrap">
                <div class="status-bar" id="bar-energy"></div>
              </div>
              <div class="status-value" id="val-energy">80</div>
            </div>
          </div>
        </section>

        <section class="controls">
          <button class="btn" id="btn-feed">
            <span class="emoji">ğŸ™</span><span>ã”ã¯ã‚“</span>
          </button>
          <button class="btn" id="btn-talk">
            <span class="emoji">ğŸ’¬</span><span>ã¯ãªã™</span>
          </button>
          <button class="btn" id="btn-rest">
            <span class="emoji">ğŸ’¤</span><span>ã­ã‚‹</span>
          </button>
        </section>
        <button class="btn" id="btn-restart" style="display:none; margin-top:8px;">
            ğŸ”„ ã‚‚ã†ä¸€åº¦è‚²ã¦ã‚‹
          </button>
        <section class="log-area" id="log-area">
          <!-- æœ€æ–°ãŒä¸Š -->
        </section>
      </main>

      <footer>
        ãŠä¸–è©±ã™ã‚‹ã¨ <strong>é€²åŒ–ãƒã‚¤ãƒ³ãƒˆ</strong> ãŒè²¯ã¾ã£ã¦ã€3æ®µéšã¾ã§é€²åŒ–ã—ã¾ã™ã€‚
      </footer>
    </div>
  </div>

  <script>
// ==========================
// ãƒ‘ã‚¹ãƒ˜ãƒ«ãƒ‘ãƒ¼ï¼ˆãƒ­ãƒ¼ã‚«ãƒ« & Vercelä¸¡å¯¾å¿œï¼‰
// ==========================
const DATE_SEGMENT = (location.pathname.match(/\d{4}-\d{2}-\d{2}/) || [""])[0];
const DATE_BASE = DATE_SEGMENT ? `/${DATE_SEGMENT}/` : "/";

const asset = (p) => {
  // å…ˆé ­ã® "./" ã¾ãŸã¯ "/" ã‚’å‰Šã‚‹
  const clean = String(p || '').replace(/^\.?\//, '');
  return DATE_BASE + clean;
};

  
    // é€²åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ¥ã‚¢ã‚»ãƒƒãƒˆ
    const ASSETS = {
      stage1: asset('./assets/matsu_stage1.png'),          // ã‚¿ãƒã‚´æ¾æ‘ï¼ˆå…±é€šï¼‰
      stage2_food:   asset('./assets/matsu_stage2_food.png'),
      stage2_happy:  asset('./assets/matsu_stage2_happy.png'),
      stage2_energy: asset('./assets/matsu_stage2_energy.png'),
      stage3_food:   asset('./assets/matsu_stage3_food.png'),
      stage3_happy:  asset('./assets/matsu_stage3_happy.png'),
      stage3_energy: asset('./assets/matsu_stage3_energy.png'),
      dead:          asset('./assets/matsu_dead.png')
    };
  
    const petImg   = document.getElementById('pet-img');
    const petFace  = document.getElementById('pet-face');
    const petArea  = document.getElementById('pet-area');
    const evoBadge = document.getElementById('evo-badge');
    const stageLabel = document.getElementById('stage-label');
  
    const barHunger = document.getElementById('bar-hunger');
    const barHappy  = document.getElementById('bar-happy');
    const barEnergy = document.getElementById('bar-energy');
    const valHunger = document.getElementById('val-hunger');
    const valHappy  = document.getElementById('val-happy');
    const valEnergy = document.getElementById('val-energy');
  
    const btnFeed = document.getElementById('btn-feed');
    const btnTalk = document.getElementById('btn-talk');
    const btnRest = document.getElementById('btn-rest');
  
    const logArea = document.getElementById('log-area');
  
    const state = {
      hunger: 80,
      happy: 80,
      energy: 80,
      evoPoints: 0,
      stage: 1,        // 1ã€œ3
      evoType: null,   // 'food' | 'happy' | 'energy'
      alive: true
    };
  
    const EVO_THRESHOLDS = {
      1: 12,  // â†’ stage2
      2: 30   // â†’ stage3
    };
  
    function clamp(v,min,max){ return v < min ? min : v > max ? max : v; }
  
    function updateBars(){
      const h = clamp(state.hunger,0,100);
      const ha = clamp(state.happy,0,100);
      const e = clamp(state.energy,0,100);
  
      valHunger.textContent = h;
      valHappy.textContent  = ha;
      valEnergy.textContent = e;
  
      barHunger.style.transform = `scaleX(${h/100})`;
      barHappy.style.transform  = `scaleX(${ha/100})`;
      barEnergy.style.transform = `scaleX(${e/100})`;
  
      // é¡”
      let face = '(`ãƒ»Ï‰ãƒ»Â´)';
      if(!state.alive){
        face = '(Ã—_Ã—;)';
      }else{
        const avg = (h+ha+e)/3;
        if(avg >= 75) face = '(ï½€ãƒ»Ï‰ãƒ»Â´)âœ¨';
        else if(avg >= 45) face = '(`ãƒ»Ï‰ãƒ»Â´)';
        else if(avg >= 20) face = '(Â´ãƒ»Ï‰ãƒ»`)';
        else face = '(;Â´Ğ”`)';
      }
      petFace.textContent = face;
  
      // æ­»äº¡åˆ¤å®š
      if(state.alive && (h <= 0 || ha <= 0 || e <= 0)){
        diePet();
      }
    }
  
    // ã©ã®ã‚¿ã‚¤ãƒ—ã«é€²åŒ–ã™ã‚‹ã‹æ±ºå®šï¼ˆã‚¹ãƒ†ãƒ¼ã‚¸1â†’2ã®ç¬é–“ã§ä¸€åº¦ã ã‘ï¼‰
    function decideEvoType(){
      // ã™ã§ã«æ±ºã¾ã£ã¦ãŸã‚‰ä½•ã‚‚ã—ãªã„
      if(state.evoType) return state.evoType;
  
      const h = state.hunger;
      const ha = state.happy;
      const e = state.energy;
  
      const maxVal = Math.max(h, ha, e);
      const candidates = [];
      if(h === maxVal)  candidates.push('food');
      if(ha === maxVal) candidates.push('happy');
      if(e === maxVal)  candidates.push('energy');
  
      // åŒç‡ãªã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã§
      const chosen = candidates[Math.floor(Math.random() * candidates.length)];
      state.evoType = chosen;
      return chosen;
    }
  
    function updateStageVisual(){
      let label = 'ã‚¿ãƒã‚´æ¾æ‘';
      let src = ASSETS.stage1;
  
      if(!state.alive){
        label = 'é€²åŒ–ã«å¤±æ•—ã—ãŸæ¾æ‘ã£ã¡';
        src = ASSETS.dead;
      }else if(state.stage === 1){
        label = 'ã‚¿ãƒã‚´æ¾æ‘';
        src = ASSETS.stage1;
      }else if(state.stage === 2){
        const type = state.evoType || decideEvoType();
        if(type === 'food'){
          label = 'ã”ã¯ã‚“æ¾æ‘';
          src = ASSETS.stage2_food;
        }else if(type === 'happy'){
          label = 'ã”ãã’ã‚“æ¾æ‘';
          src = ASSETS.stage2_happy;
        }else{
          label = 'ã‚¹ãƒãƒ¼ãƒ„æ¾æ‘';
          src = ASSETS.stage2_energy;
        }
      }else if(state.stage === 3){
        const type = state.evoType || decideEvoType();
        if(type === 'food'){
          label = 'æœ€çµ‚å½¢æ…‹ ã”ã¯ã‚“ç¥æ¾æ‘';
          src = ASSETS.stage3_food;
        }else if(type === 'happy'){
          label = 'æœ€çµ‚å½¢æ…‹ ãƒ‘ãƒªãƒ”æ¾æ‘';
          src = ASSETS.stage3_happy;
        }else{
          label = 'æœ€çµ‚å½¢æ…‹ ãƒ•ã‚£ã‚¸ã‚«ãƒ«æ¾æ‘';
          src = ASSETS.stage3_energy;
        }
      }
  
      stageLabel.textContent = label;
      petImg.src = src;
      evoBadge.textContent = `é€²åŒ–ãƒã‚¤ãƒ³ãƒˆ ${state.evoPoints}`;
      petArea.classList.toggle('pet-dead', !state.alive);
    }
  
    function addLog(text){
      const line = document.createElement('div');
      line.className = 'log-line';
      line.textContent = text;
      logArea.prepend(line);
      while(logArea.children.length > 3){
        logArea.removeChild(logArea.lastChild);
      }
    }
  
    function checkEvolution(){
      if(!state.alive) return;
  
      if(state.stage === 1 && state.evoPoints >= EVO_THRESHOLDS[1]){
        state.stage = 2;
        const t = decideEvoType();
        if(t === 'food'){
          addLog('ã”ã¯ã‚“ã‚’æ„›ã—ã™ããŸçµæœã€ã€Œã”ã¯ã‚“æ¾æ‘ã€ã«é€²åŒ–ã—ãŸã€‚');
        }else if(t === 'happy'){
          addLog('ã‹ã¾ã‚ã‚Œã™ãã¦ã€ã€Œã”ãã’ã‚“æ¾æ‘ã€ã«é€²åŒ–ã—ãŸã€‚');
        }else{
          addLog('å‹•ãã™ãã¦ã€ã€Œã‚¹ãƒãƒ¼ãƒ„æ¾æ‘ã€ã«é€²åŒ–ã—ãŸã€‚');
        }
      }else if(state.stage === 2 && state.evoPoints >= EVO_THRESHOLDS[2]){
        state.stage = 3;
        const t = state.evoType || decideEvoType();
        if(t === 'food'){
          addLog('ç‚­æ°´åŒ–ç‰©ã®ç¥ã€ã€Œã”ã¯ã‚“ç¥æ¾æ‘ã€ã«åˆ°é”ã—ãŸã€‚');
        }else if(t === 'happy'){
          addLog('ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ã®æ¥µã¿ã€ã€Œãƒ‘ãƒªãƒ”æ¾æ‘ã€ã«åˆ°é”ã—ãŸã€‚');
        }else{
          addLog('ç­‹è‚‰ã®å‘ã“ã†å´ã€ã€Œãƒ•ã‚£ã‚¸ã‚«ãƒ«æ¾æ‘ã€ã«åˆ°é”ã—ãŸã€‚');
        }
      }
      updateStageVisual();
    }
  
    function diePet(){
  state.alive = false;
  addLog('ãŠä¸–è©±ãŒè¶³ã‚Šãšã€æ¾æ‘ã£ã¡ã¯é€²åŒ–ã«å¤±æ•—ã—ãŸâ€¦ã€‚');
  updateStageVisual();
  updateBars();
  [btnFeed, btnTalk, btnRest].forEach(b => b.classList.add('disabled'));

  btnRestart.style.display = 'block';   // â† ã“ã“è¿½åŠ 
}
  
    function careAction(kind){
      if(!state.alive) return;
  
      let log = '';
      if(kind === 'feed'){
        state.hunger = clamp(state.hunger + 22, 0, 100);
        state.happy  = clamp(state.happy + 4, 0, 100);
        log = 'ãŠã«ãã‚Šã‚’ã‚ã’ãŸã€‚ã‚‚ãã‚‚ãã—ã¦ã„ã‚‹ã€‚';
      }else if(kind === 'talk'){
        state.happy  = clamp(state.happy + 18, 0, 100);
        state.energy = clamp(state.energy - 4, 0, 100);
        log = 'å°‘ã—ã ã‘çœŸé¢ç›®ãªè©±ã‚’ã—ãŸã€‚ãã’ã‚“ãŒä¸ŠãŒã£ãŸã€‚';
      }else if(kind === 'rest'){
        state.energy = clamp(state.energy + 22, 0, 100);
        state.hunger = clamp(state.hunger - 6, 0, 100);
        log = 'ã—ã°ã—ä¼‘æ†©ã€‚å…ƒæ°—ã‚’å–ã‚Šæˆ»ã—ãŸã€‚';
      }
      state.evoPoints += 1;
      addLog(log);
      updateBars();
      checkEvolution();
    }
  
    // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ¸›å°‘ã‚¿ã‚¤ãƒãƒ¼ï¼ˆç´„15ç§’ã”ã¨ï¼‰
    setInterval(() => {
      if(!state.alive) return;
      state.hunger = clamp(state.hunger - 4, 0, 100);
      state.happy  = clamp(state.happy - 3, 0, 100);
      state.energy = clamp(state.energy - 2, 0, 100);
      updateBars();
    }, 15000);
  
    btnFeed.addEventListener('click', () => careAction('feed'));
    btnTalk.addEventListener('click', () => careAction('talk'));
    btnRest.addEventListener('click', () => careAction('rest'));
  
    function init(){
      addLog('11/24ã€Œé€²åŒ–ã®æ—¥ã€ã«ã€æ¾æ‘ã£ã¡ãŒç”Ÿã¾ã‚ŒãŸã€‚');
      updateBars();
      updateStageVisual();
    }
    init();
    const btnRestart = document.getElementById('btn-restart');

function restartGame() {
  // çŠ¶æ…‹ãƒªã‚»ãƒƒãƒˆ
  state.hunger = 80;
  state.happy = 80;
  state.energy = 80;
  state.evoPoints = 0;
  state.stage = 1;
  state.evoType = null;
  state.alive = true;

  // UIãƒªã‚»ãƒƒãƒˆ
  logArea.innerHTML = '';
  btnFeed.classList.remove('disabled');
  btnTalk.classList.remove('disabled');
  btnRest.classList.remove('disabled');
  btnRestart.style.display = 'none';

  addLog('æ–°ã—ã„æ¾æ‘ã£ã¡ãŒç”Ÿã¾ã‚ŒãŸï¼');
  updateBars();
  updateStageVisual();
}

btnRestart.addEventListener('click', restartGame);

  </script>
  
</body>
</html>
