<!doctype html>
<html lang="ja">
<head>
  <!-- OGP AUTO-GENERATED START (do not edit by hand) -->
  <meta property="og:title" content="くすぐり松村">
  <meta name="twitter:title" content="くすぐり松村">
  <meta property="og:description" content="くすぐり松村 タップでブルブル 松村をタップすると、松村が震えてスマホも震えます。 あははは ※ 端末によってはバイブが動かないことがあります。">
  <meta name="twitter:description" content="くすぐり松村 タップでブルブル 松村をタップすると、松村が震えてスマホも震えます。 あははは ※ 端末によってはバイブが動かないことがあります。">
  <meta property="og:image" content="/apps/2025-11-25/assets/matsu.png">
  <meta name="twitter:image" content="/apps/2025-11-25/assets/matsu.png">
  <meta property="og:url" content="/apps/2025-11-25/index.html">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <!-- OGP AUTO-GENERATED END -->

<meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover,user-scalable=no" />
  <title>くすぐり松村</title>
  <style>
    :root{
      --bg:#050609;
      --ink:#f8fbff;
      --accent:#ffcc33;
      --safe-top:env(safe-area-inset-top,0px);
      --safe-bottom:env(safe-area-inset-bottom,0px);
    }
    *{
      box-sizing:border-box;
      -webkit-tap-highlight-color:transparent;
    }
    html,body{
      margin:0;
      padding:0;
      height:100%;
      background:#000;
      color:var(--ink);
      font-family:system-ui,-apple-system,"Hiragino Kaku Gothic ProN","Yu Gothic",sans-serif;
      overscroll-behavior:none;
      touch-action:manipulation;
    }
    body{
      display:flex;
      justify-content:center;
      align-items:stretch;
    }
    .wrap{
      position:relative;
      width:100%;
      max-width:600px;
      height:100vh;
      background:radial-gradient(circle at top,#252c3f,#050609);
      padding:calc(10px + var(--safe-top)) 16px calc(14px + var(--safe-bottom));
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .top{
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-size:12px;
      opacity:.9;
    }
    .title{
      font-weight:700;
      letter-spacing:.06em;
      font-size:13px;
    }
    .badge{
      padding:3px 10px;
      border-radius:999px;
      background:rgba(0,0,0,.5);
      border:1px solid rgba(255,255,255,.25);
      font-size:11px;
    }
    .stage{
      flex:1;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:10px;
    }
    .hint{
      font-size:12px;
      opacity:.8;
      text-align:center;
    }
    .matsu-wrap{
      position:relative;
      width:min(70vw,340px);
      aspect-ratio:3/4;
      display:flex;
      align-items:flex-end;
      justify-content:center;
    }
    #matsu{
      max-width:100%;
      max-height:100%;
      object-fit:contain;
      pointer-events:none;
      filter:drop-shadow(0 12px 30px rgba(0,0,0,.8));
      transform-origin:50% 90%;
      transition:transform .08s ease-out;
    }
    /* くすぐり中アニメーション */
    .wiggle #matsu{
      animation:wiggle .45s ease-out;
    }
    @keyframes wiggle{
      0%   { transform:translateY(0) rotate(0deg) scale(1); }
      15%  { transform:translateY(-4px) rotate(-6deg) scale(1.02); }
      30%  { transform:translateY(2px) rotate(6deg) scale(0.98); }
      45%  { transform:translateY(-3px) rotate(-4deg) scale(1.02); }
      60%  { transform:translateY(1px) rotate(4deg) scale(1); }
      80%  { transform:translateY(-1px) rotate(-2deg) scale(1.01); }
      100% { transform:translateY(0) rotate(0deg) scale(1); }
    }
    .laugh{
      position:absolute;
      bottom:70%;
      left:50%;
      transform:translateX(-50%);
      font-size:18px;
      font-weight:700;
      color:var(--accent);
      text-shadow:0 0 10px rgba(0,0,0,.8);
      opacity:0;
      pointer-events:none;
    }
    .laugh.show{
      animation:laugh-pop .4s ease-out;
    }
    @keyframes laugh-pop{
      0%{ opacity:0; transform:translate(-50%,10px) scale(.7); }
      30%{ opacity:1; transform:translate(-50%, -4px) scale(1.1); }
      100%{ opacity:0; transform:translate(-50%, -20px) scale(.9); }
    }
    .bottom-text{
      font-size:11px;
      opacity:.65;
      text-align:center;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="top">
      <div class="title">くすぐり松村</div>
      <div class="badge">タップでブルブル</div>
    </header>

    <main class="stage">
      <p class="hint">松村をタップすると、松村が震えてスマホも震えます。</p>
      <div class="matsu-wrap" id="matsu-wrap">
        <img id="matsu" alt="松村" />
        <div class="laugh" id="laugh">あははは</div>
      </div>
    </main>

    <p class="bottom-text">※ 端末によってはバイブが動かないことがあります。</p>
  </div>

  <script>
    const DATE_SEGMENT = (location.pathname.match(/\d{4}-\d{2}-\d{2}/) || [''])[0];
    const DATE_BASE = DATE_SEGMENT ? `/${DATE_SEGMENT}/` : '/';
    const asset = (p) => {
      const clean = String(p || '').replace(/^\.?\//, '');
      return `${DATE_BASE}${clean}`;
    };

    const matsuWrap = document.getElementById('matsu-wrap');
    const matsuImg  = document.getElementById('matsu');
    const laughEl   = document.getElementById('laugh');

    // 松村画像読み込み
    matsuImg.src = asset('assets/matsu.png'); // ここだけ好きなファイル名に合わせて

    // 変な長押しメニュー・ダブルタップ拡大を抑制
    window.addEventListener('contextmenu', e => e.preventDefault(), { passive:false });
    window.addEventListener('dblclick', e => e.preventDefault(), { passive:false });
    window.addEventListener('gesturestart', e => e.preventDefault(), { passive:false });

    let isTickling = false;

    function tickle() {
      if (isTickling) return;
      isTickling = true;

      // クラスでアニメーション開始
      matsuWrap.classList.add('wiggle');

      // 笑いエフェクト
      laughEl.classList.remove('show');
      // 強制リフローでアニメーションリスタート
      void laughEl.offsetWidth;
      laughEl.classList.add('show');

      // バイブレーション（対応端末のみ）
      try {
        if (window.navigator && 'vibrate' in window.navigator) {
          // 短くブルブル
          window.navigator.vibrate([40, 40, 40]);
        }
      } catch(e){ /* 無視 */ }

      // アニメーション終了で解除
      setTimeout(() => {
        matsuWrap.classList.remove('wiggle');
        isTickling = false;
      }, 450);
    }

    // タップ / クリックで発火（スマホ優先）
    matsuWrap.addEventListener('pointerdown', (e) => {
      e.preventDefault();
      tickle();
    });
  </script>
</body>
</html>
